{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Mod 5 Project/Mod-5-project-frontend/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport { fetchCateogriesCreator, fetchActivitiesCreator, assignCurrentUser, removeCurrentUser } from './actionCreators/actionCreater';\nimport Navbar from '../src/containers/Navbar';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Home from './containers/home';\nimport Profile from './components/profile';\nimport ActivitiesPage from './containers/ActivitiesPage';\nimport MainPage from './containers/mainPage';\nimport ActivityPage from './components/activityPage';\nimport AllActivities from './containers/allActivities';\nimport activityPage from './components/activityPage';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: null\n    };\n\n    this.setUser = user => {\n      this.setState({\n        currentUser: user\n      }, () => {\n        localStorage.user_id = user.id;\n        this.props.history.push('/');\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCategories();\n    this.props.fetchActivities();\n    const token = localStorage.token;\n\n    if (token) {\n      fetch(\"http://localhost:3000/auto_login\", {\n        headers: {\n          \"Authorization\": token\n        }\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          this.setState({\n            currentUser: response\n          });\n        }\n      });\n    }\n  } //   const user_id = localStorage.user_id\n  //   if (user_id) {\n  //     fetch('http://localhost:3000/auto_login', {\n  //       headers: {\n  //         'Authorization': user_id\n  //       }\n  //     })\n  //       .then(resp => resp.json()).then(response => {\n  //         if (response.errors) {\n  //           alert(response.errors)\n  //         } else {\n  //           console.log('cool');\n  //         }\n  //       })\n  //   }\n  // }\n\n\n  // logout = () => {\n  //   this.props.assignCurrentUser()\n  //   , () => {\n  //     localStorage.removeItem('user_id')\n  //     this.props.history.push('/')\n  //   }\n  //   )\n  // }\n  render() {\n    console.log(this.props.currentUser);\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      setUser: this.setUser,\n      logout: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Home\",\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: MainPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/activities/:id\",\n      component: ActivityPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/activities\",\n      component: ActivitiesPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/myprofile\",\n      render: () => /*#__PURE__*/React.createElement(Profile, {\n        currentUser: this.props.currentUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 48\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst msp = state => {\n  return {\n    activities: state.activities,\n    currentUser: state.currentUser\n  };\n};\n\nconst mdp = dispatch => {\n  return {\n    fetchCategories: () => dispatch(fetchCateogriesCreator()),\n    fetchActivities: () => dispatch(fetchActivitiesCreator()) // assignCurrentUser: () => dispatch(assignCurrentUser()),\n    // removeCurrentUser: () => dispatch(removeCurrentUser())\n\n  };\n};\n\nexport default connect(msp, mdp)(App);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Mod 5 Project/Mod-5-project-frontend/src/App.js"],"names":["React","connect","fetchCateogriesCreator","fetchActivitiesCreator","assignCurrentUser","removeCurrentUser","Navbar","BrowserRouter","Router","Route","Home","Profile","ActivitiesPage","MainPage","ActivityPage","AllActivities","activityPage","App","Component","state","currentUser","setUser","user","setState","localStorage","user_id","id","props","history","push","componentDidMount","fetchCategories","fetchActivities","token","fetch","headers","then","res","json","response","errors","alert","render","console","log","logout","msp","activities","mdp","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux'\nimport { fetchCateogriesCreator, fetchActivitiesCreator, assignCurrentUser, removeCurrentUser } from './actionCreators/actionCreater'\nimport Navbar from '../src/containers/Navbar'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport Home from './containers/home'\nimport Profile from './components/profile';\nimport ActivitiesPage from './containers/ActivitiesPage';\nimport MainPage from './containers/mainPage'\nimport ActivityPage from './components/activityPage';\nimport AllActivities from './containers/allActivities';\nimport activityPage from './components/activityPage';\n\n\n\n\nclass App extends React.Component {\n  state = {\n    currentUser: null\n  }\n\n  componentDidMount() {\n    this.props.fetchCategories()\n    this.props.fetchActivities()\n\n    const token = localStorage.token\n\n    if (token) {\n\n      fetch(\"http://localhost:3000/auto_login\", {\n        headers: {\n          \"Authorization\": token\n        }\n      })\n        .then(res => res.json())\n        .then(response => {\n          if (response.errors) {\n            alert(response.errors)\n          } else {\n            this.setState({\n              currentUser: response\n            })\n          }\n        })\n    }\n  }\n  //   const user_id = localStorage.user_id\n\n  //   if (user_id) {\n  //     fetch('http://localhost:3000/auto_login', {\n  //       headers: {\n  //         'Authorization': user_id\n  //       }\n  //     })\n  //       .then(resp => resp.json()).then(response => {\n  //         if (response.errors) {\n  //           alert(response.errors)\n  //         } else {\n  //           console.log('cool');\n\n  //         }\n  //       })\n  //   }\n  // }\n\n\n  setUser = (user) => {\n    this.setState({\n      currentUser: user\n    }, () => {\n      localStorage.user_id = user.id\n      this.props.history.push('/')\n    })\n  }\n\n  // logout = () => {\n  //   this.props.assignCurrentUser()\n  //   , () => {\n  //     localStorage.removeItem('user_id')\n  //     this.props.history.push('/')\n  //   }\n  //   )\n  // }\n\n  render() {\n    console.log(this.props.currentUser);\n\n    return (\n      <Router>\n        <Navbar setUser={this.setUser} logout={this.logout} />\n        <Route exact path='/Home' component={Home} />\n        <Route exact path='/' component={MainPage} />\n        <Route path='/activities/:id' component={ActivityPage} />\n        <Route exact path='/activities' component={ActivitiesPage} />\n        <Route path='/myprofile' render={() => <Profile currentUser={this.props.currentUser} />} />\n      </Router>\n    );\n  }\n\n}\n\nconst msp = state => {\n  return {\n    activities: state.activities,\n    currentUser: state.currentUser\n  }\n}\nconst mdp = dispatch => {\n  return {\n\n    fetchCategories: () => dispatch(fetchCateogriesCreator()),\n    fetchActivities: () => dispatch(fetchActivitiesCreator()),\n    // assignCurrentUser: () => dispatch(assignCurrentUser()),\n    // removeCurrentUser: () => dispatch(removeCurrentUser())\n  }\n}\n\nexport default connect(msp, mdp)(App)"]},"metadata":{},"sourceType":"module"}
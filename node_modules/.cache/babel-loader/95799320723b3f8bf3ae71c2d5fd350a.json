{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Mod 5 Project/Mod-5-project-frontend/src/forms/login2.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from \"react-router-dom\";\nimport { assignCurrentUser } from '../actionCreators/actionCreater';\nimport { connect } from 'react-redux';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  }\n}));\n\nfunction LoginT(props) {\n  let history = useHistory();\n  const classes = useStyles();\n  const [username, setusername] = React.useState('');\n  const [password, setpassword] = React.useState('');\n\n  const handleChange1 = event => {\n    setusername(event.target.value);\n  };\n\n  const handleChange2 = event => {\n    setpassword(event.target.value);\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    let data = {\n      username: username,\n      password: password\n    };\n    fetch('http://localhost:3000/login', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(response => {\n      if (response.errors) {\n        alert(response.errors);\n      } else {\n        this.props.assignCurrentUser(response);\n        history.push('/home');\n        localStorage.user_id = response.id;\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"standard-required\",\n    label: \"Username\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: handleChange1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-password-input\",\n    label: \"Password\",\n    type: \"password\",\n    autoComplete: \"current-password\",\n    value: password,\n    onChange: handleChange2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Login\")));\n}\n\nexport default connect(null, {\n  assignCurrentUser\n})(LoginT);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Mod 5 Project/Mod-5-project-frontend/src/forms/login2.js"],"names":["React","makeStyles","FormControl","TextField","Button","useHistory","assignCurrentUser","connect","useStyles","theme","root","margin","spacing","width","LoginT","props","history","classes","username","setusername","useState","password","setpassword","handleChange1","event","target","value","handleChange2","handleSubmit","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","res","json","response","errors","alert","push","localStorage","user_id","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from \"react-router-dom\";\nimport { assignCurrentUser } from '../actionCreators/actionCreater'\nimport { connect } from 'react-redux'\n\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n    },\n}));\n\nfunction LoginT(props) {\n    let history = useHistory();\n    const classes = useStyles();\n    const [username, setusername] = React.useState('');\n    const [password, setpassword] = React.useState('');\n\n    const handleChange1 = (event) => {\n        setusername(event.target.value);\n    };\n    const handleChange2 = (event) => {\n        setpassword(event.target.value);\n    };\n\n\n    function handleSubmit(event) {\n        event.preventDefault()\n        let data = {username: username, password: password}\n        fetch('http://localhost:3000/login', {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n\n        }).then(res => res.json())\n            .then(response => {\n                if (response.errors) {\n                    alert(response.errors)\n                } else {\n                    this.props.assignCurrentUser(response)\n                    history.push('/home')\n                    localStorage.user_id = response.id\n                }\n            })\n    }\n    return (\n        <div>\n            <FormControl className={classes.margin}>\n                <TextField\n                    required\n                    id=\"standard-required\"\n                    label=\"Username\"\n                    placeholder='Username'\n                    value={username}\n                    onChange={handleChange1}\n                />\n                <TextField\n                    id=\"standard-password-input\"\n                    label=\"Password\"\n                    type=\"password\"\n                    autoComplete=\"current-password\"\n                    value={password}\n                    onChange={handleChange2}\n                />\n                <Button onClick={handleSubmit}>Login</Button>\n            </FormControl>\n        </div>\n    );\n}\n\nexport default connect(null, { assignCurrentUser })(LoginT)"]},"metadata":{},"sourceType":"module"}
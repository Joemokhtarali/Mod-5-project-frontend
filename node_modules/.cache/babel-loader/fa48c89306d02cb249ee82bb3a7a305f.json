{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router';\nimport { HashRouter, Route } from 'react-router-dom';\nimport DefaultTheme from './DefaultTheme';\nimport { presentationContext } from './PropTypes';\nimport TouchNav from './TouchNav';\n\nvar Presentation = function (_Component) {\n  _inherits(Presentation, _Component);\n\n  function Presentation() {\n    _classCallCheck(this, Presentation);\n\n    return _possibleConstructorReturn(this, (Presentation.__proto__ || _Object$getPrototypeOf(Presentation)).apply(this, arguments));\n  }\n\n  _createClass(Presentation, [{\n    key: 'render',\n    value: function render() {\n      var Router = this.props.router;\n      return React.createElement(Router, null, React.createElement(PresentationInner, this.props));\n    }\n  }]);\n\n  return Presentation;\n}(Component); // Separate inner class due to Router context dependencies.\n\n\nPresentation.defaultProps = {\n  disableTheme: false,\n  router: HashRouter\n};\nexport default Presentation;\nprocess.env.NODE_ENV !== \"production\" ? Presentation.propTypes = {\n  children: PropTypes.any.isRequired,\n  disableTheme: PropTypes.bool.isRequired,\n  router: PropTypes.any.isRequired\n} : void 0;\n\nvar PresentationInner = function (_Component2) {\n  _inherits(PresentationInner, _Component2);\n\n  function PresentationInner(props, context) {\n    _classCallCheck(this, PresentationInner);\n\n    var _this2 = _possibleConstructorReturn(this, (PresentationInner.__proto__ || _Object$getPrototypeOf(PresentationInner)).call(this, props, context));\n\n    _this2.state = {\n      pluginProps: {}\n    };\n    _this2._index = 0;\n    _this2._slideIndex = 0;\n    _this2._slideIndexMap = {};\n    _this2._stepIndex = 0;\n    _this2.getSlideIndex = _this2.getSlideIndex.bind(_this2);\n    _this2.getSlideMetadata = _this2.getSlideMetadata.bind(_this2);\n    _this2.getStepIndex = _this2.getStepIndex.bind(_this2);\n    _this2.goBack = _this2.goBack.bind(_this2);\n    _this2.goForward = _this2.goForward.bind(_this2);\n    _this2.goToSlide = _this2.goToSlide.bind(_this2);\n    _this2.setPluginProps = _this2.setPluginProps.bind(_this2);\n    _this2._onKeyDown = _this2._onKeyDown.bind(_this2);\n    return _this2;\n  }\n\n  _createClass(PresentationInner, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.body.addEventListener('keydown', this._onKeyDown);\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this._parseLocation(window.location);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.body.removeEventListener('keydown', this._onKeyDown);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      this._parseLocation(window.location);\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var pluginProps = this.state.pluginProps;\n      return {\n        pluginProps: pluginProps,\n        presentation: this\n      };\n    }\n  }, {\n    key: 'getSlideIndex',\n    value: function getSlideIndex() {\n      return this._slideIndex;\n    }\n  }, {\n    key: 'getSlideMetadata',\n    value: function getSlideMetadata(slide) {\n      var slideIndex = this._index;\n      this._slideIndexMap[slideIndex] = slide;\n      this._index++;\n\n      var path = this._createPath({\n        slideIndex: slideIndex\n      });\n\n      return {\n        path: path,\n        slideIndex: slideIndex\n      };\n    }\n  }, {\n    key: 'getStepIndex',\n    value: function getStepIndex() {\n      return this._stepIndex;\n    }\n  }, {\n    key: 'goBack',\n    value: function goBack() {\n      var slideIndex = this._slideIndex;\n      var stepIndex = this._stepIndex;\n\n      if (stepIndex > 0) {\n        this.goToSlide({\n          slideIndex: slideIndex,\n          stepIndex: stepIndex - 1\n        });\n      } else if (slideIndex > 0) {\n        slideIndex--; // Ensure this slide has been processed at least once so we can accurately access the step-count\n\n        this.goToSlide({\n          slideIndex: slideIndex\n        });\n        stepIndex = this._getNumStepsForSlide(slideIndex) - 1;\n        this.goToSlide({\n          slideIndex: slideIndex,\n          stepIndex: stepIndex\n        });\n      }\n    }\n  }, {\n    key: 'goForward',\n    value: function goForward() {\n      var slideIndex = this._slideIndex;\n      var stepIndex = this._stepIndex;\n\n      var numCurrentSlideSteps = this._getNumStepsForSlide(slideIndex);\n\n      var numSlides = _Object$keys(this._slideIndexMap).length;\n\n      if (stepIndex + 1 < numCurrentSlideSteps) {\n        stepIndex++;\n      } else if (slideIndex + 1 < numSlides) {\n        slideIndex++;\n        stepIndex = 0;\n      }\n\n      this.goToSlide({\n        slideIndex: slideIndex,\n        stepIndex: stepIndex\n      });\n    }\n  }, {\n    key: 'goToSlide',\n    value: function goToSlide(_ref) {\n      var slideIndex = _ref.slideIndex,\n          _ref$stepIndex = _ref.stepIndex,\n          stepIndex = _ref$stepIndex === undefined ? 0 : _ref$stepIndex;\n\n      if (slideIndex !== this._slideIndex || stepIndex !== this._stepIndex) {\n        var router = this.context.router;\n\n        var path = this._createPath({\n          slideIndex: slideIndex,\n          stepIndex: stepIndex\n        });\n\n        if (typeof router.replace === 'function') {\n          router.replace(path); // react-router@4.0.0-beta.6\n        } else {\n          router.history.replace(path); // react-router@4.0.0\n        }\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: 'isAtBeginning',\n    value: function isAtBeginning() {\n      return this._slideIndex === 0 && this._stepIndex === 0;\n    }\n  }, {\n    key: 'isAtEnd',\n    value: function isAtEnd() {\n      var numSlides = _Object$keys(this._slideIndexMap).length;\n\n      var numLastSlideSteps = this._getNumStepsForSlide(numSlides - 1);\n\n      return this._slideIndex === numSlides - 1 && this._stepIndex === numLastSlideSteps - 1;\n    }\n  }, {\n    key: 'setPluginProps',\n    value: function setPluginProps(props) {\n      var pluginProps = this.state.pluginProps;\n      this.setState({\n        pluginProps: _extends({}, pluginProps, props)\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          disableTheme = _props.disableTheme;\n      return React.createElement('div', {\n        style: {\n          height: '100%',\n          width: '100%'\n        }\n      }, !disableTheme && React.createElement(DefaultTheme, null), React.createElement(Route, {\n        exact: true,\n        path: '/',\n        render: function render() {\n          return React.createElement(Redirect, {\n            to: '/0/0'\n          });\n        }\n      }), typeof children === 'function' ? children({\n        presentation: this\n      }) : children, React.createElement(TouchNav, null));\n    }\n  }, {\n    key: '_createPath',\n    value: function _createPath(_ref2) {\n      var slideIndex = _ref2.slideIndex,\n          _ref2$stepIndex = _ref2.stepIndex,\n          stepIndex = _ref2$stepIndex === undefined ? ':step' : _ref2$stepIndex;\n      return '/' + slideIndex + '/' + stepIndex;\n    }\n  }, {\n    key: '_getNumStepsForSlide',\n    value: function _getNumStepsForSlide(slideIndex) {\n      return this._slideIndexMap[slideIndex].getNumSteps() || 1;\n    }\n  }, {\n    key: '_parseLocation',\n    value: function _parseLocation(location) {\n      var parsed = (location.pathname + location.hash).match(/(\\d+)\\/(\\d+)/);\n\n      if (parsed) {\n        this._slideIndex = parseInt(parsed[1], 10);\n        this._stepIndex = parseInt(parsed[2], 10);\n      } else {\n        this._slideIndex = 0;\n        this._stepIndex = 0;\n      }\n    }\n  }, {\n    key: '_onKeyDown',\n    value: function _onKeyDown(event) {\n      // Ignore keyboard events if the user is entering text\n      // Or interacting with form controls.\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'SELECT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable === true) {\n        return;\n      }\n\n      switch (event.key) {\n        case 'ArrowLeft':\n        case 'PageUp':\n          this.goBack();\n          break;\n\n        case 'ArrowRight':\n        case 'PageDown':\n        case 'Enter':\n        case ' ':\n          this.goForward();\n          break;\n\n        default:\n          // Linting requires this :)\n          break;\n      }\n    }\n  }]);\n\n  return PresentationInner;\n}(Component);\n\nPresentationInner.childContextTypes = {\n  pluginProps: PropTypes.object.isRequired,\n  presentation: presentationContext.isRequired\n};\nPresentationInner.contextTypes = {\n  router: PropTypes.object.isRequired\n};\nprocess.env.NODE_ENV !== \"production\" ? PresentationInner.propTypes = {\n  children: PropTypes.any.isRequired,\n  disableTheme: PropTypes.bool.isRequired\n} : void 0;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Mod 5 Project/Mod-5-project-frontend/node_modules/react-presents/dist/es/Presentation.js"],"names":["_extends","_Object$keys","_Object$getPrototypeOf","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Component","PropTypes","Redirect","HashRouter","Route","DefaultTheme","presentationContext","TouchNav","Presentation","_Component","__proto__","apply","arguments","key","value","render","Router","props","router","createElement","PresentationInner","defaultProps","disableTheme","process","env","NODE_ENV","propTypes","children","any","isRequired","bool","_Component2","context","_this2","call","state","pluginProps","_index","_slideIndex","_slideIndexMap","_stepIndex","getSlideIndex","bind","getSlideMetadata","getStepIndex","goBack","goForward","goToSlide","setPluginProps","_onKeyDown","componentDidMount","document","body","addEventListener","componentWillMount","_parseLocation","window","location","componentWillUnmount","removeEventListener","componentWillUpdate","nextProps","nextState","getChildContext","presentation","slide","slideIndex","path","_createPath","stepIndex","_getNumStepsForSlide","numCurrentSlideSteps","numSlides","length","_ref","_ref$stepIndex","undefined","replace","history","forceUpdate","isAtBeginning","isAtEnd","numLastSlideSteps","setState","_props","style","height","width","exact","to","_ref2","_ref2$stepIndex","getNumSteps","parsed","pathname","hash","match","parseInt","event","target","tagName","isContentEditable","childContextTypes","object","contextTypes"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router';\nimport { HashRouter, Route } from 'react-router-dom';\nimport DefaultTheme from './DefaultTheme';\nimport { presentationContext } from './PropTypes';\nimport TouchNav from './TouchNav';\n\nvar Presentation = function (_Component) {\n  _inherits(Presentation, _Component);\n\n  function Presentation() {\n    _classCallCheck(this, Presentation);\n\n    return _possibleConstructorReturn(this, (Presentation.__proto__ || _Object$getPrototypeOf(Presentation)).apply(this, arguments));\n  }\n\n  _createClass(Presentation, [{\n    key: 'render',\n    value: function render() {\n      var Router = this.props.router;\n\n\n      return React.createElement(\n        Router,\n        null,\n        React.createElement(PresentationInner, this.props)\n      );\n    }\n  }]);\n\n  return Presentation;\n}(Component);\n\n// Separate inner class due to Router context dependencies.\n\n\nPresentation.defaultProps = {\n  disableTheme: false,\n  router: HashRouter\n};\nexport default Presentation;\nprocess.env.NODE_ENV !== \"production\" ? Presentation.propTypes = {\n  children: PropTypes.any.isRequired,\n  disableTheme: PropTypes.bool.isRequired,\n  router: PropTypes.any.isRequired\n} : void 0;\n\nvar PresentationInner = function (_Component2) {\n  _inherits(PresentationInner, _Component2);\n\n  function PresentationInner(props, context) {\n    _classCallCheck(this, PresentationInner);\n\n    var _this2 = _possibleConstructorReturn(this, (PresentationInner.__proto__ || _Object$getPrototypeOf(PresentationInner)).call(this, props, context));\n\n    _this2.state = {\n      pluginProps: {}\n    };\n\n    _this2._index = 0;\n    _this2._slideIndex = 0;\n    _this2._slideIndexMap = {};\n    _this2._stepIndex = 0;\n\n    _this2.getSlideIndex = _this2.getSlideIndex.bind(_this2);\n    _this2.getSlideMetadata = _this2.getSlideMetadata.bind(_this2);\n    _this2.getStepIndex = _this2.getStepIndex.bind(_this2);\n    _this2.goBack = _this2.goBack.bind(_this2);\n    _this2.goForward = _this2.goForward.bind(_this2);\n    _this2.goToSlide = _this2.goToSlide.bind(_this2);\n    _this2.setPluginProps = _this2.setPluginProps.bind(_this2);\n    _this2._onKeyDown = _this2._onKeyDown.bind(_this2);\n    return _this2;\n  }\n\n  _createClass(PresentationInner, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.body.addEventListener('keydown', this._onKeyDown);\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this._parseLocation(window.location);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.body.removeEventListener('keydown', this._onKeyDown);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      this._parseLocation(window.location);\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var pluginProps = this.state.pluginProps;\n\n\n      return {\n        pluginProps: pluginProps,\n        presentation: this\n      };\n    }\n  }, {\n    key: 'getSlideIndex',\n    value: function getSlideIndex() {\n      return this._slideIndex;\n    }\n  }, {\n    key: 'getSlideMetadata',\n    value: function getSlideMetadata(slide) {\n      var slideIndex = this._index;\n\n      this._slideIndexMap[slideIndex] = slide;\n      this._index++;\n\n      var path = this._createPath({ slideIndex: slideIndex });\n\n      return {\n        path: path,\n        slideIndex: slideIndex\n      };\n    }\n  }, {\n    key: 'getStepIndex',\n    value: function getStepIndex() {\n      return this._stepIndex;\n    }\n  }, {\n    key: 'goBack',\n    value: function goBack() {\n      var slideIndex = this._slideIndex;\n      var stepIndex = this._stepIndex;\n\n      if (stepIndex > 0) {\n        this.goToSlide({\n          slideIndex: slideIndex,\n          stepIndex: stepIndex - 1\n        });\n      } else if (slideIndex > 0) {\n        slideIndex--;\n\n        // Ensure this slide has been processed at least once so we can accurately access the step-count\n        this.goToSlide({\n          slideIndex: slideIndex\n        });\n\n        stepIndex = this._getNumStepsForSlide(slideIndex) - 1;\n\n        this.goToSlide({\n          slideIndex: slideIndex,\n          stepIndex: stepIndex\n        });\n      }\n    }\n  }, {\n    key: 'goForward',\n    value: function goForward() {\n      var slideIndex = this._slideIndex;\n      var stepIndex = this._stepIndex;\n\n      var numCurrentSlideSteps = this._getNumStepsForSlide(slideIndex);\n      var numSlides = _Object$keys(this._slideIndexMap).length;\n\n      if (stepIndex + 1 < numCurrentSlideSteps) {\n        stepIndex++;\n      } else if (slideIndex + 1 < numSlides) {\n        slideIndex++;\n        stepIndex = 0;\n      }\n\n      this.goToSlide({ slideIndex: slideIndex, stepIndex: stepIndex });\n    }\n  }, {\n    key: 'goToSlide',\n    value: function goToSlide(_ref) {\n      var slideIndex = _ref.slideIndex,\n          _ref$stepIndex = _ref.stepIndex,\n          stepIndex = _ref$stepIndex === undefined ? 0 : _ref$stepIndex;\n\n      if (slideIndex !== this._slideIndex || stepIndex !== this._stepIndex) {\n        var router = this.context.router;\n\n        var path = this._createPath({ slideIndex: slideIndex, stepIndex: stepIndex });\n\n        if (typeof router.replace === 'function') {\n          router.replace(path); // react-router@4.0.0-beta.6\n        } else {\n          router.history.replace(path); // react-router@4.0.0\n        }\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: 'isAtBeginning',\n    value: function isAtBeginning() {\n      return this._slideIndex === 0 && this._stepIndex === 0;\n    }\n  }, {\n    key: 'isAtEnd',\n    value: function isAtEnd() {\n      var numSlides = _Object$keys(this._slideIndexMap).length;\n      var numLastSlideSteps = this._getNumStepsForSlide(numSlides - 1);\n\n      return this._slideIndex === numSlides - 1 && this._stepIndex === numLastSlideSteps - 1;\n    }\n  }, {\n    key: 'setPluginProps',\n    value: function setPluginProps(props) {\n      var pluginProps = this.state.pluginProps;\n\n\n      this.setState({\n        pluginProps: _extends({}, pluginProps, props)\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          disableTheme = _props.disableTheme;\n\n\n      return React.createElement(\n        'div',\n        {\n          style: {\n            height: '100%',\n            width: '100%'\n          }\n        },\n        !disableTheme && React.createElement(DefaultTheme, null),\n        React.createElement(Route, {\n          exact: true,\n          path: '/',\n          render: function render() {\n            return React.createElement(Redirect, { to: '/0/0' });\n          }\n        }),\n        typeof children === 'function' ? children({ presentation: this }) : children,\n        React.createElement(TouchNav, null)\n      );\n    }\n  }, {\n    key: '_createPath',\n    value: function _createPath(_ref2) {\n      var slideIndex = _ref2.slideIndex,\n          _ref2$stepIndex = _ref2.stepIndex,\n          stepIndex = _ref2$stepIndex === undefined ? ':step' : _ref2$stepIndex;\n\n      return '/' + slideIndex + '/' + stepIndex;\n    }\n  }, {\n    key: '_getNumStepsForSlide',\n    value: function _getNumStepsForSlide(slideIndex) {\n      return this._slideIndexMap[slideIndex].getNumSteps() || 1;\n    }\n  }, {\n    key: '_parseLocation',\n    value: function _parseLocation(location) {\n      var parsed = (location.pathname + location.hash).match(/(\\d+)\\/(\\d+)/);\n\n      if (parsed) {\n        this._slideIndex = parseInt(parsed[1], 10);\n        this._stepIndex = parseInt(parsed[2], 10);\n      } else {\n        this._slideIndex = 0;\n        this._stepIndex = 0;\n      }\n    }\n  }, {\n    key: '_onKeyDown',\n    value: function _onKeyDown(event) {\n      // Ignore keyboard events if the user is entering text\n      // Or interacting with form controls.\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'SELECT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable === true) {\n        return;\n      }\n\n      switch (event.key) {\n        case 'ArrowLeft':\n        case 'PageUp':\n          this.goBack();\n          break;\n        case 'ArrowRight':\n        case 'PageDown':\n        case 'Enter':\n        case ' ':\n          this.goForward();\n          break;\n        default:\n          // Linting requires this :)\n          break;\n      }\n    }\n  }]);\n\n  return PresentationInner;\n}(Component);\n\nPresentationInner.childContextTypes = {\n  pluginProps: PropTypes.object.isRequired,\n  presentation: presentationContext.isRequired\n};\nPresentationInner.contextTypes = {\n  router: PropTypes.object.isRequired\n};\nprocess.env.NODE_ENV !== \"production\" ? PresentationInner.propTypes = {\n  children: PropTypes.any.isRequired,\n  disableTheme: PropTypes.bool.isRequired\n} : void 0;"]},"metadata":{},"sourceType":"module"}
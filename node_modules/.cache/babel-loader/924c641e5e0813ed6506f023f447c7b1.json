{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Flatiron Labs & projects/Mod 5 Project/Mod-5-project-frontend/src/components/map.js\";\n// import React, { Component } from 'react';\n// import GoogleMapReact from 'google-map-react';\n// import Marker from './marker.js'\n// const array = [{ lat: -73.923462, lng: 40.764357 }, { lat: 73.906588, lng: 40.778790 }, { lat: -73.941860, lng: 40.744309 }]\n// class Map extends Component {\n//   state = {\n//     lat: null,\n//     lng: null,\n//     zoom: 13,\n//   }\n//   componentDidMount() {\n//     fetch(`https://maps.googleapis.com/maps/api/geocode/json?address='${this.props.activity.address}'&key=AIzaSyD4X3Xez83U_L3WZm6Fny8zsSxN_G4s1a4`)\n//       .then(resp => resp.json())\n//       .then(data => this.setState({\n//         lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng\n//       }))\n//   }\n//   mapMarkers = () => {\n//     // debugger\n//     return array.map(marker =>\n//       <Marker\n//         // key={marker.id}\n//         // onClick={onClick}\n//         position={{ lat: marker.lat, lng: marker.lng }}\n//       />\n//     )\n//   }\n//   render() {\n//     return (\n//       <div style={{ height: '50vh', width: '100%' }}>\n//         {this.state.lat ?\n//           <GoogleMapReact\n//             bootstrapURLKeys={{ key: 'AIzaSyD4X3Xez83U_L3WZm6Fny8zsSxN_G4s1a4' }}\n//             defaultCenter={{ lat: this.state.lat, lng: this.state.lng }}\n//             defaultZoom={this.state.zoom}\n//           >\n//             {this.mapMarkers()}\n//             {/* <Marker\n//               lat={this.state.lat}\n//               lng={this.state.lng}\n//               name={this.props.activity.name}\n//               color='blue'\n//               onClick={this.onMarkerClick}\n//             /> */}\n//             {this.mapMarkers()}\n//           </GoogleMapReact>\n//           : null}\n//       </div>\n//     );\n//   }\n// }\n// export default Map;\nimport React, { Component } from \"react\";\nimport { compose } from \"recompose\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow } from \"google-map-react\";\nconst MapWithAMarker = compose(withScriptjs, withGoogleMap)(props => {\n  return /*#__PURE__*/React.createElement(GoogleMap, {\n    defaultZoom: 8,\n    defaultCenter: {\n      lat: 29.5,\n      lng: -95\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, props.markers.map(marker => {\n    const onClick = props.onClick.bind(this, marker);\n    return /*#__PURE__*/React.createElement(Marker, {\n      key: marker.id,\n      onClick: onClick,\n      position: {\n        lat: marker.latitude,\n        lng: marker.longitude\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, props.selectedMarker === marker && /*#__PURE__*/React.createElement(InfoWindow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, marker.shelter)), \"}\");\n  }));\n});\nexport default class ShelterMap extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = (marker, event) => {\n      // console.log({ marker })\n      this.setState({\n        selectedMarker: marker\n      });\n    };\n\n    this.state = {\n      shelters: [],\n      selectedMarker: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://api.harveyneeds.org/api/v1/shelters?limit=20\").then(r => r.json()).then(data => {\n      this.setState({\n        shelters: data.shelters\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(MapWithAMarker, {\n      selectedMarker: this.state.selectedMarker,\n      markers: this.state.shelters,\n      onClick: this.handleClick,\n      googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\",\n      loadingElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }),\n      containerElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `400px`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 27\n        }\n      }),\n      mapElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Flatiron Labs & projects/Mod 5 Project/Mod-5-project-frontend/src/components/map.js"],"names":["React","Component","compose","withScriptjs","withGoogleMap","GoogleMap","Marker","InfoWindow","MapWithAMarker","props","lat","lng","markers","map","marker","onClick","bind","id","latitude","longitude","selectedMarker","shelter","ShelterMap","constructor","handleClick","event","setState","state","shelters","componentDidMount","fetch","then","r","json","data","render","height"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\n// import GoogleMapReact from 'google-map-react';\n// import Marker from './marker.js'\n\n\n// const array = [{ lat: -73.923462, lng: 40.764357 }, { lat: 73.906588, lng: 40.778790 }, { lat: -73.941860, lng: 40.744309 }]\n\n// class Map extends Component {\n\n//   state = {\n//     lat: null,\n//     lng: null,\n//     zoom: 13,\n//   }\n\n//   componentDidMount() {\n//     fetch(`https://maps.googleapis.com/maps/api/geocode/json?address='${this.props.activity.address}'&key=AIzaSyD4X3Xez83U_L3WZm6Fny8zsSxN_G4s1a4`)\n//       .then(resp => resp.json())\n//       .then(data => this.setState({\n//         lat: data.results[0].geometry.location.lat, lng: data.results[0].geometry.location.lng\n//       }))\n//   }\n\n\n\n//   mapMarkers = () => {\n//     // debugger\n//     return array.map(marker =>\n//       <Marker\n//         // key={marker.id}\n//         // onClick={onClick}\n//         position={{ lat: marker.lat, lng: marker.lng }}\n//       />\n//     )\n//   }\n\n//   render() {\n\n//     return (\n//       <div style={{ height: '50vh', width: '100%' }}>\n//         {this.state.lat ?\n//           <GoogleMapReact\n//             bootstrapURLKeys={{ key: 'AIzaSyD4X3Xez83U_L3WZm6Fny8zsSxN_G4s1a4' }}\n//             defaultCenter={{ lat: this.state.lat, lng: this.state.lng }}\n//             defaultZoom={this.state.zoom}\n//           >\n//             {this.mapMarkers()}\n//             {/* <Marker\n//               lat={this.state.lat}\n//               lng={this.state.lng}\n//               name={this.props.activity.name}\n//               color='blue'\n//               onClick={this.onMarkerClick}\n//             /> */}\n//             {this.mapMarkers()}\n//           </GoogleMapReact>\n//           : null}\n\n//       </div>\n//     );\n//   }\n// }\n\n// export default Map;\n\n\nimport React, { Component } from \"react\"\nimport { compose } from \"recompose\"\nimport {\n  withScriptjs,\n  withGoogleMap,\n  GoogleMap,\n  Marker,\n  InfoWindow\n} from \"google-map-react\"\n\nconst MapWithAMarker = compose(withScriptjs, withGoogleMap)(props => {\n\n  return (\n    <GoogleMap defaultZoom={8} defaultCenter={{ lat: 29.5, lng: -95 }}>\n      {props.markers.map(marker => {\n        const onClick = props.onClick.bind(this, marker)\n        return (\n          <Marker\n            key={marker.id}\n            onClick={onClick}\n            position={{ lat: marker.latitude, lng: marker.longitude }}\n          >\n            {props.selectedMarker === marker &&\n              <InfoWindow>\n                <div>\n                  {marker.shelter}\n                </div>\n              </InfoWindow>}\n            }\n          </Marker>\n        )\n      })}\n    </GoogleMap>\n  )\n})\n\nexport default class ShelterMap extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      shelters: [],\n      selectedMarker: false\n    }\n  }\n  componentDidMount() {\n    fetch(\"https://api.harveyneeds.org/api/v1/shelters?limit=20\")\n      .then(r => r.json())\n      .then(data => {\n        this.setState({ shelters: data.shelters })\n      })\n  }\n  handleClick = (marker, event) => {\n    // console.log({ marker })\n    this.setState({ selectedMarker: marker })\n  }\n  render() {\n    return (\n      <MapWithAMarker\n        selectedMarker={this.state.selectedMarker}\n        markers={this.state.shelters}\n        onClick={this.handleClick}\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\n        loadingElement={<div style={{ height: `100%` }} />}\n        containerElement={<div style={{ height: `400px` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n      />\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}
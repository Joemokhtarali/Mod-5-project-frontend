{"ast":null,"code":"const defaultState = {\n  categories: [],\n  activities: [],\n  currentUser: null //{id: 1, username:'Mocha', city:'New York City', password:'1234', image:\"https://www.sackettwaconia.com/wp-content/uploads/default-profile.png\"}\n\n};\n\nfunction parseDate(input) {\n  var parts = input.match(/(\\d+)/g); // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n\n  return new Date(parts[0], parts[1] - 1, parts[2]); // months are 0-based\n}\n\nfunction reducer(state = defaultState, action) {\n  switch (action.type) {\n    case 'FETCH_CATEGORIES':\n      return { ...state,\n        categories: action.payload.categories\n      };\n\n    case 'FETCH_ACTIVITIES':\n      let currentActivities = action.payload.activities.filter(activity => parseDate(activity.date).getTime() >= new Date());\n      return { ...state,\n        activities: currentActivities\n      };\n\n    case 'ADD_CATEGORY':\n      return { ...state,\n        categories: [...state.categories, action.payload]\n      };\n\n    case 'ADD_ACTIVITY':\n      return { ...state,\n        activities: [...state.activities, action.payload]\n      };\n\n    case 'EDIT_ACTIVITY':\n      let activitiesCopy = [...state.activities];\n      let activityIndex = activitiesCopy.findIndex(activity => activity.id === action.payload.id);\n      activitiesCopy[activityIndex] = action.payload;\n      return { ...state,\n        activities: activitiesCopy\n      };\n\n    case 'DELETE_ACTIVITY':\n      let activitiesAd = [...state.activities.filter(act => act.id !== action.payload)];\n      console.log(activitiesAd);\n      return { ...state,\n        activities: activitiesAd\n      };\n\n    case 'ASSIGN_USER':\n      return { ...state,\n        currentUser: action.payload\n      };\n\n    case 'REMOVE_USER':\n      return { ...state,\n        currentUser: null\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Flatiron Labs & projects/Mod 5 Project/Mod-5-project-frontend/src/reducers/reducer.js"],"names":["defaultState","categories","activities","currentUser","parseDate","input","parts","match","Date","reducer","state","action","type","payload","currentActivities","filter","activity","date","getTime","activitiesCopy","activityIndex","findIndex","id","activitiesAd","act","console","log"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACjBC,EAAAA,UAAU,EAAE,EADK;AAEjBC,EAAAA,UAAU,EAAE,EAFK;AAGjBC,EAAAA,WAAW,EAAE,IAHI,CAGC;;AAHD,CAArB;;AAMA,SAASC,SAAT,CAAmBC,KAAnB,EAAyB;AACrB,MAAIC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,QAAZ,CAAZ,CADqB,CAErB;;AACA,SAAO,IAAIC,IAAJ,CAASF,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAL,GAAS,CAA5B,EAA+BA,KAAK,CAAC,CAAD,CAApC,CAAP,CAHqB,CAG4B;AAClD;;AAEH,SAASG,OAAT,CAAiBC,KAAK,GAAGV,YAAzB,EAAuCW,MAAvC,EAA+C;AAC3C,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAK,kBAAL;AACI,aAAO,EACH,GAAGF,KADA;AACOT,QAAAA,UAAU,EAAEU,MAAM,CAACE,OAAP,CAAeZ;AADlC,OAAP;;AAGJ,SAAK,kBAAL;AACI,UAAIa,iBAAiB,GAAGH,MAAM,CAACE,OAAP,CAAeX,UAAf,CAA0Ba,MAA1B,CAAkCC,QAAD,IACzDZ,SAAS,CAACY,QAAQ,CAACC,IAAV,CAAT,CAAyBC,OAAzB,MAAsC,IAAIV,IAAJ,EADd,CAAxB;AAGA,aAAO,EACH,GAAGE,KADA;AACOR,QAAAA,UAAU,EAAEY;AADnB,OAAP;;AAGJ,SAAK,cAAL;AACI,aAAO,EACH,GAAGJ,KADA;AACOT,QAAAA,UAAU,EAAE,CAAC,GAAGS,KAAK,CAACT,UAAV,EAAsBU,MAAM,CAACE,OAA7B;AADnB,OAAP;;AAIJ,SAAK,cAAL;AACI,aAAO,EACH,GAAGH,KADA;AACOR,QAAAA,UAAU,EAAE,CAAC,GAAGQ,KAAK,CAACR,UAAV,EAAsBS,MAAM,CAACE,OAA7B;AADnB,OAAP;;AAIJ,SAAK,eAAL;AACI,UAAIM,cAAc,GAAG,CAAC,GAAGT,KAAK,CAACR,UAAV,CAArB;AACA,UAAIkB,aAAa,GAAGD,cAAc,CAACE,SAAf,CAAyBL,QAAQ,IAAIA,QAAQ,CAACM,EAAT,KAAgBX,MAAM,CAACE,OAAP,CAAeS,EAApE,CAApB;AACAH,MAAAA,cAAc,CAACC,aAAD,CAAd,GAAgCT,MAAM,CAACE,OAAvC;AAEA,aAAO,EACH,GAAGH,KADA;AACOR,QAAAA,UAAU,EAAEiB;AADnB,OAAP;;AAGJ,SAAK,iBAAL;AACI,UAAII,YAAY,GAAG,CAAC,GAAGb,KAAK,CAACR,UAAN,CAAiBa,MAAjB,CAAwBS,GAAG,IAAIA,GAAG,CAACF,EAAJ,KAAWX,MAAM,CAACE,OAAjD,CAAJ,CAAnB;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AAEA,aAAO,EACH,GAAGb,KADA;AACOR,QAAAA,UAAU,EAAEqB;AADnB,OAAP;;AAKJ,SAAK,aAAL;AACI,aAAO,EACH,GAAGb,KADA;AACOP,QAAAA,WAAW,EAAEQ,MAAM,CAACE;AAD3B,OAAP;;AAGJ,SAAK,aAAL;AACI,aAAO,EACH,GAAGH,KADA;AACOP,QAAAA,WAAW,EAAE;AADpB,OAAP;;AAIJ;AACI,aAAOO,KAAP;AAlDR;AAoDH;;AAED,eAAeD,OAAf","sourcesContent":["const defaultState = {\n    categories: [],\n    activities: [], \n    currentUser: null //{id: 1, username:'Mocha', city:'New York City', password:'1234', image:\"https://www.sackettwaconia.com/wp-content/uploads/default-profile.png\"}\n}\n\nfunction parseDate(input){\n    var parts = input.match(/(\\d+)/g);\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1]-1, parts[2]); // months are 0-based\n  }\n\nfunction reducer(state = defaultState, action) {\n    switch (action.type) {\n\n        case 'FETCH_CATEGORIES': \n            return {\n                ...state, categories: action.payload.categories\n            }\n        case 'FETCH_ACTIVITIES':\n            let currentActivities = action.payload.activities.filter((activity) =>\n            parseDate(activity.date).getTime() >= new Date()\n        );\n            return {\n                ...state, activities: currentActivities\n            }\n        case 'ADD_CATEGORY':\n            return {\n                ...state, categories: [...state.categories, action.payload]\n            }\n\n        case 'ADD_ACTIVITY':\n            return {\n                ...state, activities: [...state.activities, action.payload]\n            }\n            \n        case 'EDIT_ACTIVITY':\n            let activitiesCopy = [...state.activities]\n            let activityIndex = activitiesCopy.findIndex(activity => activity.id === action.payload.id)\n            activitiesCopy[activityIndex] = action.payload\n\n            return {\n                ...state, activities: activitiesCopy\n            }\n        case 'DELETE_ACTIVITY':\n            let activitiesAd = [...state.activities.filter(act => act.id !== action.payload)]\n            console.log(activitiesAd);\n            \n            return {\n                ...state, activities: activitiesAd\n            }\n\n\n        case 'ASSIGN_USER':\n            return {\n                ...state, currentUser: action.payload\n            }\n        case 'REMOVE_USER':\n            return {\n                ...state, currentUser: null\n            }\n\n        default:\n            return state\n    }\n}\n\nexport default reducer\n\n\n\n"]},"metadata":{},"sourceType":"module"}